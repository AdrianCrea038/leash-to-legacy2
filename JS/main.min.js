"use strict";document.addEventListener("DOMContentLoaded",(function(){!function(){var e=document.getElementById("contact-form"),t=document.getElementById("contact-form-status");if(e)try{e.addEventListener("submit",(function(n){n.preventDefault();var o=e.querySelector('button[type="submit"]'),l=(e.querySelector('input[name="name"]')||{}).value,c=(e.querySelector('input[name="email"]')||{}).value,a=(e.querySelector('input[name="phone"]')||{}).value,i=(e.querySelector('textarea[name="message"]')||{}).value;t&&(t.textContent="",t.removeAttribute("class")),o&&(o.disabled=!0,o.textContent="Sending..."),fetch("/.netlify/functions/send-contact-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:l,email:c,phone:a,message:i})}).then((function(e){return e.json().catch((function(){return{}}))})).then((function(n){e.ok&&n.success?(t&&(t.textContent="âœ“ Message sent! We will contact you soon.",t.className="contact-form-status success"),e.reset()):t&&(t.textContent=n.error||"Could not send. Try again or email us at shawn@leashtolegacy.org",t.className="contact-form-status error")})).catch((function(n){t&&(t.textContent="Connection error. Try again or email shawn@leashtolegacy.org",t.className="contact-form-status error")})).finally((function(){o&&(o.disabled=!1,o.textContent="SEND MESSAGE")}))}))}catch(e){console.error("Error en formulario de contacto:",e)}}();var e=document.querySelector(".menu-toggle"),t=document.querySelector(".main-nav");e&&t&&e.addEventListener("click",(function(){t.classList.toggle("active")}));var n=document.getElementById("loginModal"),o=document.getElementById("closeLoginModal"),l=document.querySelector(".login, .login-btn");l&&l.addEventListener("click",(function(e){e.preventDefault(),n.classList.add("active")})),o&&o.addEventListener("click",(function(){n.classList.remove("active")})),n&&n.addEventListener("click",(function(e){e.target===n&&n.classList.remove("active"})),document.addEventListener("keydown",(function(e){"Escape"===e.key&&null!==n&&n.classList.contains("active")&&n.classList.remove("active")}))}));